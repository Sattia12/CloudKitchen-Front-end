<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cloud Kitchen Dashboard</title>

    <!-- Bootstrap for styling -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Plotly.js for charts -->
    <script src="https://cdn.plot.ly/plotly-2.20.0.min.js"></script>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="styles/dashboard.css">
</head>
<body>
  <nav class="navbar navbar-expand-lg navbar-dark">
    <div class="container-fluid">
      <a class="navbar-brand" href="homepage.html">Cloud Kitchen</a>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarNav"
        aria-controls="navbarNav"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav mx-auto">
            <li class="nav-item px-lg-3">
              <a class="nav-link active" href="dashboard.html">Dashboard</a>
            </li>
            <li class="nav-item px-lg-3">
              <a class="nav-link" href="OrderPage.html">Make an Order</a>
            </li>
            <li class="nav-item px-lg-3">
              <a class="nav-link" href="liveOrders.html">Live Orders</a>
            </li>
            <li class="nav-item px-lg-3">
              <a class="nav-link" href="menu.html">Menu</a>
            </li>
            <li class="nav-item px-lg-3">
              <a class="nav-link" href="inventory.html">Inventory</a>
            </li>
            <li class="nav-item px-lg-3">
              <a class="nav-link" href="donate.html">Donate</a>
            </li>
          </ul>
          <div class="user-actions d-flex align-items-center">
            <div class="user-id text-white me-3">Hello, <span id="username">Guest</span></div>
            <button class="btn btn-outline-light" id="auth-btn">Log In</button>
          </div>
        </div>
      </div>
    </div>
  </nav>

    <!-- Dashboard Container -->
    <div class="container mt-4">
        <h1 class="text-center">Cloud Kitchen Dashboard</h1>

        <!-- Metric Cards -->
        <div class="metrics-container">
            <div class="metric-card">
                <h3 class="metric-title">Total Orders</h3>
                <p id="totalOrders" class="metric-number">Loading...</p>
            </div>

            <div class="metric-card">
                <h3 class="metric-title">Total Revenue</h3>
                <p id="totalRevenue" class="metric-number">Loading...</p>
            </div>

            <div class="metric-card">
                <h3 class="metric-title">⚠️ Low Stock Items</h3>
                <p id="lowStockCount" class="metric-number">Loading...</p>
            </div>

            <div class="metric-card">
                <h3 class="metric-title">Preparing Orders</h3>
                <p id="preparingOrdersCount" class="metric-number">Loading...</p>
            </div>

            <div class="metric-card">
                <h3 class="metric-title">Expiring Soon</h3>
                <p id="expiringSoonCount" class="metric-number">Loading...</p>
            </div>
        </div>

        <!-- Charts -->
        <div class="row mt-4">
            <div class="col-md-6">
                <h3>Revenue Trends</h3>
                <div id="revenueTrendsChart"></div>
            </div>
            <div class="col-md-6">
                <h3>Stock Value by Category</h3>
                <div id="stockValueChart"></div>
            </div>
        </div>

        <div class="row mt-4">
            <div class="col-md-6">
                <h3>Most Ordered Dishes</h3>
                <div id="mostOrderedDishesChart"></div>
            </div>
            <div class="col-md-6">
              <h3 class="expiring-soon-title">⚠️ Expiring Soon</h3>
              <ul id="expiringSoonList" class="list-group"></ul>
            </div>
        </div>

        <div class="row mt-4">
            <div class="col-md-6">
                <h3>Stock Usage Trend</h3>
                <div id="stockUsageTrendChart"></div>
            </div>
            <div class="col-md-6">
                <h3>Stock Levels by Category</h3>
                <div id="stockLevelsChart"></div>
            </div>
        </div>

        <div class="row mt-4">
            <div class="col-md-6">
                <h3>Ingredient Category Distribution</h3>
                <div id="ingredientCategoryChart"></div>
            </div>
            <div class="col-md-6">
                <h3>Restaurant Performance</h3>
                <div id="restaurantPerformanceChart"></div>
            </div>
        </div>

        <div class="row mt-4">
            <div class="col-md-6">
                <h3>Live Order Status</h3>
                <div id="liveOrderStatusChart"></div>
            </div>

            <div class="col-md-6">
              <h3>Most Used Ingredients</h3>
              <div id="mostUsedIngredientsChart"></div>
          </div>
        </div>

    <!-- JavaScript -->
    <script src="js/dashboard.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>